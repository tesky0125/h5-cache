/*! h5_cache v1.0.0 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.h5_cache=t():e.h5_cache=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){e.exports=n(8)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e)}return o(e,null,[{key:"isPrivateModel",value:function(){var e="TEST_PRIVATE_MODEL",t=window.localStorage;try{t.setItem(e,1),t.removeItem(e)}catch(e){return console.warn("Error CommonUtils.isPrivateModel:",e),!0}return!1}},{key:"isObject",value:function(e){var t="undefined"==typeof e?"undefined":r(e);return null!=e&&("object"===t||"function"===t)}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),c=function(){function e(t){var n=this;o(this,e),this.key=null,this.lifeTime="30M",this.defaultData=null,this.proxy=null,Object.keys(t).forEach(function(e){n[e]=t[e]})}return u(e,[{key:"set",value:function(e){var t=this.getExpireTime(),n=Date.now();n+=this.getLifeTime(),n<t&&(n=t),this.proxy.set(this.key,e,n,null)}},{key:"setAttr",value:function(e,t){var n=!1;if(s.default.isObject(e)){var r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;e.hasOwnProperty(c)&&this.setAttr(c,e[c],t)}}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}var f=this.get()||{};return f&&(f[e]=t,n=this.set(f)),n}},{key:"setLifeTime",value:function(e){this.lifeTime=e;var t=this.get(),n=this.proxy.getSaveTime(this.key)||Date.now(),r=n+this.getLifeTime();this.proxy.set(this.key,t,r,n)}},{key:"get",value:function(){var e=null,t=!0;"[object Array]"===Object.prototype.toString.call(this.defaultData)?e=this.defaultData.slice(0):this.defaultData&&(e=Object.assign({},this.defaultData));var n=this.proxy.get(this.key),r="undefined"==typeof n?"undefined":i(n),o={string:!0,number:!0,boolean:!0};if(o[r])return n;if(n)if("[object Array]"===Object.prototype.toString.call(n)){e=[];for(var u=0,a=n.length;u<a;u++)e[u]=n[u]}else n&&!e&&(e={}),Object.assign(e,n);return null!=e&&0!==Object.keys(e).length&&(t=!1),t?null:e}},{key:"getAttr",value:function(e){var t=this.get(),n=null;return t&&(n=t[e]),n}},{key:"remove",value:function(){this.proxy.remove(this.key)}},{key:"removeAttr",value:function(e){var t=this.get()||{};t[e]&&delete t[e],this.set(t)}},{key:"getExpireTime",value:function(){var e=null;try{e=this.proxy.getExpireTime(this.key)}catch(e){console}return e}},{key:"setExpireTime",value:function(e){var t=this.get();this.proxy.set(this.key,t,e)}},{key:"getLifeTime",value:function(){var e=this.lifeTime+"",t=+e.substring(0,e.length-1),n=0,r=e.charAt(e.length-1);return r="number"==typeof r?"M":r.toUpperCase(),n="D"===r?24*t*60*60:"H"===r?60*t*60:"M"===r?60*t:"S"===r?t:60*t,1e3*n}}]),e}();t.default=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){var r=this;n(this,e),this.proxy=null,this.storedKeys="STORAGE_KEYS",Object.keys(t).forEach(function(e){r[e]=t[e]})}return r(e,[{key:"removeOverdueStorage",value:function(){var e=Date.now(),t=this.proxy.getItem(this.storedKeys),n=[],r=[];if(t){r=JSON.parse(t);for(var o,i=0;i<r.length;i++)o=r[i],new Date(o.expiretime).getTime()<=e?this.proxy.removeItem(o.key):n.push(o);this.proxy.setItem(this.storedKeys,JSON.stringify(n))}}},{key:"removeOverdueStoreLately",value:function(e){var t=e||5,n=this.proxy.getItem(this.storedKeys),r=[];if(n){r=JSON.parse(n),r.sort(function(e,t){var n=new Date(e.expiretime).getTime(),r=new Date(t.expiretime).getTime();return n-r});for(var o=r.splice(0,t)||[],i=0;i<o.length;i++)this.proxy.removeItem(o[i].key);this.proxy.removeItem(this.storedKeys),r.length>0&&this.proxy.setItem(this.storedKeys,JSON.stringify(r))}}},{key:"setStoredKeys",value:function(e,t){if(e&&t&&!(new Date(t)<new Date)){var n={},r=this.proxy.getItem(this.storedKeys),o=!1,i=[];n.key=e,n.expiretime=t,r&&(i=JSON.parse(r));for(var u,a=0;a<i.length;a++)u=i[a],u.key===e&&(i[a]=n,o=!0);o||i.push(n),this.proxy.setItem(this.storedKeys,JSON.stringify(i))}}},{key:"buildStorageEntity",value:function(e,t,n){var r={value:e,expiretime:t,savetime:n};return r}},{key:"set",value:function(e,t,n,r){var o=r||Date.now(),i=n||o+2592e6;this.setStoredKeys(e,i);var u=this.buildStorageEntity(t,i,o);try{return this.proxy.setItem(e,JSON.stringify(u)),!0}catch(n){"QuotaExceededError"===n.name&&(this.removeOverdueStoreLately(),this.set(e,t,i,o))}return!1}},{key:"get",value:function(e){var t=void 0,n=null;try{t=this.proxy.getItem(e),t&&(t=JSON.parse(t),t.expiretime>=Date.now()&&(n=t.value))}catch(e){console}return n}},{key:"getSaveTime",value:function(e){var t=void 0,n=null;try{t=this.proxy.getItem(e),t&&(t=JSON.parse(t),t.savetime&&(n=new Date(t.savetime)))}catch(e){console}return n}},{key:"getExpireTime",value:function(e){var t=null,n=null;try{t=this.proxy.getItem(e),t&&(t=JSON.parse(t),n=new Date(t.expiretime))}catch(e){console}return n}},{key:"remove",value:function(e){return this.proxy.removeItem(e)}},{key:"getAll",value:function(){for(var e=this.proxy.length,t=[],n=0;n<e;n++){var r=this.proxy.key(n),o={key:r,value:this.get(r)};t.push(o)}return t}},{key:"clear",value:function(){this.proxy.clear()}},{key:"gc",value:function(){for(var e=this.proxy,t=this.proxy.length,n=0;n<t;n++){var r=e.key(n);try{this.get(r)||this.remove(r)}catch(e){}}}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),c=r(s),f=n(11),l=r(f),y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{proxy:l.default}))}return u(t,e),a(t,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new this),this.instance}}]),t}(c.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),f=n(9),l=r(f),y=n(4),p=r(y),h=n(1),v=r(h),b=function(e){function t(e){o(this,t);var n=e;return n.proxy=v.default.isPrivateModel()?p.default.getInstance():l.default.getInstance(),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n))}return u(t,e),a(t,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new this),this.instance}}]),t}(c.default);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),f=n(4),l=r(f),y=function(e){function t(e){o(this,t);var n=e;return n.proxy=l.default.getInstance(),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n))}return u(t,e),a(t,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new this),this.instance}}]),t}(c.default);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),f=n(10),l=r(f),y=n(4),p=r(y),h=n(1),v=r(h),b=function(e){function t(e){o(this,t);var n=e;return n.proxy=v.default.isPrivateModel()?p.default.getInstance():l.default.getInstance(),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n))}return u(t,e),a(t,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new this),this.instance}}]),t}(c.default);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),u=n(7),a=r(u),s=n(6),c=r(s);t.default={LocalCache:i.default,SessionCache:a.default,MemoryCache:c.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),c=r(s),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{proxy:window.localStorage}))}return u(t,e),a(t,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new this),this.instance}}]),t}(c.default);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),c=r(s),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{proxy:window.sessionStorage}))}return u(t,e),a(t,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new this),this.instance}}]),t}(c.default);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),u=window.location.host,a={},s={dataMap:{},setItem:function(e,t){this.dataMap[e]=t,this.reSetName()},getItem:function(e){if(this.dataMap==={})try{var t=JSON.parse(window.name)[u];i.default.isObject(t)&&(this.dataMap=t)}catch(e){}return this.dataMap[e]},removeItem:function(e){delete this.dataMap[e],this.reSetName()},clear:function(){this.dataMap={},this.reSetName()},reSetName:function(){i.default.isPrivateModel()&&(a[u]=this.dataMap,window.name=JSON.stringify(a))}};t.default=s}])});